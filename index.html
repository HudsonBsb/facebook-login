<html>

<head>
    <!-- <script async defer crossorigin="anonymous"
        src="https://connect.facebook.net/pt_BR/sdk.js#xfbml=1&version=v14.0&appId=528259645757312&autoLogAppEvents=1"
        nonce="vCM6iIjf"></script> -->
</head>

<body>
    <!-- <div id="fb-root">
        <div class="fb-login-button" data-width="" data-size="large" data-button-type="continue_with"
            data-layout="rounded" data-auto-logout-link="false" data-use-continue-as="true"
            data-scope="ads_management,business_management,instagram_basic,instagram_content_publish,pages_read_engagement">
        </div>
    </div> -->
    <script type="text/javascript">
        (function () {
            const hash = location.hash.replace('#', '');
            fetch('http://localhost:3333/facebook/access-token', {
                body: extractDataFromParams(hash),
                headers: { 'Content-Type': 'application/json' }
            }).catch(() => window.close());
        })();

        function extractDataFromParams(query) {
            const data = {};
            for (let item of query.split('&')) {
                const split = item.split('=');
                const key = split[0];
                const value = split[1] || '';
                data[key] = value;
            }
            return data;
        }
    </script>
</body>

</html>